<!DOCTYPE html>

<html>
<head>
	<title>Warhammer 40k</title>

	<style>
		table {
			table-layout: fixed;
			width: 72%;
			text-align: center;
		}

	</style>

	<script>
		function updateTroopTable() {
			var request = new XMLHttpRequest()
			request.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var response = JSON.parse(request.responseText)
					console.log(typeof response.value)
					document.getElementById("troops").innerHTML = response.value
				}
			}
			request.open("POST", "resources/models.json", true)
			request.send()
		}

		function addModel(id) {
			console.log(id)
			var request = new XMLHttpRequest()
			request.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					console.log("Add model request received")
				}
			}
			request.open("POST", "/addmodel")
			request.setRequestHeader("Content-Type", "application/json")
			request.send(JSON.stringify({"model": id}))
		}
	</script>
</head>

<body>
	<header>
		<h1>Warhammer 40k Army Builder</h1>
		<nav>
			<button onclick="updateTroopTable()">Update Troop Table</button>
			<button onclick="myTroops()">My Troops</button>
		</nav>
	</header>
	  
	  <main>
		<section id="troops">
		</section>
	  </main>
</body>

</html>
